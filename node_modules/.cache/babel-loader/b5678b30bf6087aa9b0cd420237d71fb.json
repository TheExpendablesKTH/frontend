{"ast":null,"code":"var _jsxFileName = \"/Users/torarvill/Documents/Pip/frontend/boende_ui/src/Relative.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport backarrow from './back-arrow.png';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Relative() {\n  _s();\n\n  const [loading, setLoading] = useState(true);\n  const [relatives, setRelatives] = useState(null);\n  const resident_id = findGetParameter(\"resident_id\");\n  const resident_name = findGetParameter(\"resident_name\");\n  const api_url = \"http://mock.api.dd1369-meetings.com/residents/\" + resident_id + \"/relatives\";\n  const [selected, setSelected] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await axios(api_url);\n      setRelatives(result.data.relatives);\n      setLoading(false);\n    };\n\n    fetchData();\n  }, []);\n\n  const toggleRelative = relative => {\n    setSelected(prev => {\n      if (prev.includes(relative)) {\n        return prev.filter(r => r !== relative);\n      } else {\n        return [relative, ...prev];\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n      class: \"breadcrumb br1\",\n      children: /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [\"Starta samtal: V\\xE4ljer vem \", resident_name, \" ska ringa till\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flexbox\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flexbox topAligned\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/Resident\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: backarrow\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 45\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flexbox topAligned\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"extra-large-text center\",\n          children: \"Anh\\xF6riga\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"scroll-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"scroll-header\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"center\",\n              children: \"V\\xE4lj vilka anh\\xF6riga som ska delta i samtalet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"scroll-outer mediumScroll\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"scroll-inner\",\n              children: loading || relatives == null ? /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"loading...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 37\n              }, this) : relatives.sort((a, b) => a.name > b.name ? 1 : -1).map(relative => /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"scroll-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"name-plate\",\n                  children: relative.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 58,\n                  columnNumber: 71\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: selected.includes(relative) ? \"alter-button remove-button\" : \"alter-button add-button\",\n                  onClick: () => toggleRelative(relative),\n                  children: selected.includes(relative) ? \"-\" : \"+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 59,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 45\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 31\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"centerDiv\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: {\n                pathname: \"/Call_confirm\",\n                selected: selected,\n                residentId: resident_id,\n                residentName: resident_name\n              },\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"button button-next\",\n                children: \"G\\xE5 vidare till samtal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 144\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flexbox\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Relative, \"7o1aOybsHIth5HcnjpcNDGnRc54=\");\n\n_c = Relative;\nexport function findGetParameter(parameterName) {\n  var result = null,\n      tmp = [];\n  window.location.search.substr(1).split(\"&\").forEach(function (item) {\n    tmp = item.split(\"=\");\n    if (tmp[0] === parameterName) result = decodeURIComponent(tmp[1]);\n  });\n  return result;\n}\nexport default Relative;\n\nvar _c;\n\n$RefreshReg$(_c, \"Relative\");","map":{"version":3,"sources":["/Users/torarvill/Documents/Pip/frontend/boende_ui/src/Relative.js"],"names":["React","useState","useEffect","Link","backarrow","axios","Relative","loading","setLoading","relatives","setRelatives","resident_id","findGetParameter","resident_name","api_url","selected","setSelected","fetchData","result","data","toggleRelative","relative","prev","includes","filter","r","sort","a","b","name","map","pathname","residentId","residentName","parameterName","tmp","window","location","search","substr","split","forEach","item","decodeURIComponent"],"mappings":"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","sourcesContent":["import React, {useState,useEffect} from \"react\";\nimport {Link} from \"react-router-dom\";\n\nimport backarrow from './back-arrow.png';\nimport axios from 'axios';\n\nfunction Relative(){\n    \n    const [loading, setLoading] = useState(true);\n    const [relatives,setRelatives] = useState(null);\n    const resident_id = findGetParameter(\"resident_id\");\n    const resident_name = findGetParameter(\"resident_name\");\n    const api_url = \"http://mock.api.dd1369-meetings.com/residents/\"+resident_id+\"/relatives\";\n\n    const [selected, setSelected] = useState([]);\n\n    useEffect(() => {\n        const fetchData = async () => {\n                const result = await axios(api_url);\n                setRelatives(result.data.relatives);\n                setLoading(false);\n            };\n            fetchData();\n        },[]);\n\n    const toggleRelative = (relative) => {\n        setSelected((prev) => {\n            if (prev.includes(relative)) {\n                return prev.filter(r => r !== relative);\n            } else {\n                return [relative, ...prev]\n            }\n        });\n    };\n\n    return (\n        <div><ul class=\"breadcrumb br1\">\n        <li>Starta samtal: Väljer vem {resident_name} ska ringa till</li>\n        </ul>\n            <div className=\"flexbox\">\n                <div className=\"flexbox topAligned\">\n                    <Link to =  \"/Resident\"><img src={backarrow} /></Link>\n                </div>\n                <div className=\"flexbox topAligned\">\n                    <h1 className=\"extra-large-text center\">Anhöriga</h1>\n                    <div className=\"scroll-container\">\n                        <div className=\"scroll-header\">\n                            <p className=\"center\">Välj vilka anhöriga som ska delta i samtalet</p>\n                        </div>\n                        <div className=\"scroll-outer mediumScroll\">\n                            <div className=\"scroll-inner\">\n                            {\n                                (loading || relatives==null) ? (\n                                    <p>loading...</p>\n                                ) : (\n                                    relatives.sort((a, b) => (a.name > b.name) ? 1 : -1).map(relative => \n                                        (   \n                                            <p className=\"scroll-row\"><span className=\"name-plate\">{relative.name}</span>\n                                            <span className={\n                                            selected.includes(relative) ? \"alter-button remove-button\" : \"alter-button add-button\"} \n                                            onClick={() => toggleRelative(relative)}>\n                                            {selected.includes(relative) ? \"-\" : \"+\"}\n                                            </span></p>\n                                        ))\n                                )}\t\t\t\t\t\t\t\n                            </div>\n                        </div><br/>\n                        <div className=\"centerDiv\">\n                                \n                                <Link to = {{pathname:\"/Call_confirm\", selected:selected, residentId:resident_id, residentName:resident_name}}><button className =\"button button-next\">Gå vidare till samtal</button></Link>\n                            \n                        </div>\n                    </div>\n\n                </div>\n                <div className=\"flexbox\"></div>\n\n\n            </div>\n\n        </div>\n    );\n}\n\nexport function findGetParameter(parameterName) {\n    var result = null,\n        tmp = [];\n        window.location.search\n        .substr(1)\n        .split(\"&\")\n        .forEach(function (item) {\n          tmp = item.split(\"=\");\n          if (tmp[0] === parameterName) result = decodeURIComponent(tmp[1]);\n        });\n    return result;\n}\n\nexport default Relative;\n"]},"metadata":{},"sourceType":"module"}